@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<style>
    #copyrightcontent {
        height: 30px;
        line-height: 29px;
        overflow: hidden;
        position: absolute;
        top: 100%;
        margin-top: -30px;
        width: 100%;
        background-color: #fff;
        border: 1px solid #e6e6e6;
        padding-left: 10px;
        padding-right: 10px;
    }

    .dashboard-stats {
        float: left;
        width: 33.333%;
    }

    .dashboard-stats-item {
        position: relative;
        overflow: hidden;
        color: #fff;
        cursor: pointer;
        height: 105px;
        margin-right: 25px;
        margin-bottom: 10px;
        padding: 20px 20px;
    }

        .dashboard-stats-item .m-top-none {
            margin-top: 2px;
        }

        .dashboard-stats-item h2 {
            font-size: 35px;
            font-family: inherit;
            line-height: 1.1;
            font-weight: 500;
        }

        .dashboard-stats-item h5 {
            font-size: 14px;
            font-family: inherit;
            margin-top: 3px;
            line-height: 1.1;
        }


        .dashboard-stats-item .stat-icon {
            position: absolute;
            top: 10px;
            right: 10px;
            font-size: 30px;
            opacity: .3;
        }

    .dashboard-stats i.fa.stats-icon {
        width: 50px;
        padding: 20px;
        font-size: 50px;
        text-align: center;
        color: #fff;
        height: 50px;
        border-radius: 10px;
    }

    .panel-default {
        border: none;
        border-radius: 0px;
        margin-bottom: 0px;
        box-shadow: none;
        -webkit-box-shadow: none;
    }

        .panel-default > .panel-heading {
            color: #777;
            background-color: #fff;
            border-color: #e6e6e6;
            padding: 10px 10px;
        }

        .panel-default > .panel-body {
            padding: 10px;
            padding-bottom: 0px;
        }

            .panel-default > .panel-body ul {
                overflow: hidden;
                padding: 0;
                margin: 0px;
                margin-top: -5px;
            }

                .panel-default > .panel-body ul li {
                    line-height: 27px;
                    list-style-type: none;
                    white-space: nowrap;
                    text-overflow: ellipsis;
                }

                    .panel-default > .panel-body ul li .time {
                        color: #a1a1a1;
                        float: right;
                        padding-right: 5px;
                    }

    .chartData {
        height: 350px;
        border: 1px solid #e6e6e6;
        background-color: #fff;
    }

    .assetChart {
        float: right;
    }

        .assetChart span {
            font-weight: 500;
            margin-left: 10px;
        }

            .assetChart span i {
                font-size: 20px;
                padding-right: 5px;
                vertical-align: middle;
                margin-top: -3px;
            }

    .rightChart {
        text-align: center;
        padding-top: 20px;
    }

        .rightChart span i {
            font-size: 20px;
            padding-right: 5px;
            vertical-align: middle;
            margin-top: -3px;
        }
</style>

<div id="areascontent">
    <div class="rows" style="margin-bottom: 1%; border: 1px solid #e6e6e6; overflow: hidden; padding-left: 1px;">
        <div class="panel panel-default">
            <div class="panel-heading">
                <i class="fa fa-line-chart fa-lg" style="padding-right: 5px;"></i>关键数据实时指标
                @*<div style="float: right; position: relative; top: -4px; right: 0px;">
                    <iframe name="weather_inc" src="http://i.tianqi.com/index.php?c=code&id=1" width="330" height="35" frameborder="0" marginwidth="0" marginheight="0" scrolling="no"></iframe>
                </div>*@
            </div>
            <div class="panel-body">
                <div class="dashboard-stats">
                    <div class="dashboard-stats-item" style="background-color: #fc8675;">
                        <h2 class="m-top-none" id="pdj">8</h2>
                        <h5>入库待审核单据</h5>
                        <div class="stat-icon">
                            <i class="fa fa-user fa-3x"></i>
                        </div>
                    </div>
                </div>
                <div class="dashboard-stats">
                    <div class="dashboard-stats-item" style="background-color: #6bafbd;">
                        <h2 class="m-top-none" id="pzy">12</h2>
                        <h5>出库待审核单据</h5>
                        <div class="stat-icon">
                            <i class="fa fa-truck fa-3x"></i>
              
                        </div>
                    </div>
                </div>
                <div class="dashboard-stats">
                    <div class="dashboard-stats-item" style="background-color: #65cea7; margin-right: 0px;">
                        <h2 class="m-top-none" id="pcz">2</h2>
                        <h5>盘点待审核单据</h5>
                        <div class="stat-icon">
                            <i class="fa fa-hdd-o fa-3x"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="rows" style="margin-bottom: 1%; overflow: hidden;">
        <div style="float: left; width: 100%;">
            <div class="chartData">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <i class="fa fa-area-chart fa-lg" style="padding-right: 5px;"></i>产品出入库数量统计
                        <div class="assetChart">
                            <span><i class="fa fa-square" style="color: #00ff90;"></i>产品采购数量</span>
                            <span><i class="fa fa-square" style="color: #f7f204;"></i>产品销售数量</span>
                            <span><i class="fa fa-square" style="color: #ff0000;"></i>采购退货数量</span>
                            <span><i class="fa fa-square" style="color: #808080;"></i>销售退货数量</span>
                        </div>
                    </div>
                    <div class="panel-body" style="padding-bottom: 0px;">
                        <canvas id="salarychart" style="height: 285px; width: 100%; padding-right: 10px;"></canvas>
                    </div>
                </div>
            </div>
        </div>
        @*<div style="float: right; width: 30%;">
            <div class="chartData">
                <div class="panel panel-default">
                    <div class="panel-heading"><i class="fa fa-pie-chart fa-lg" style="padding-right: 5px;"></i>仓库信息统计</div>
                    <div class="panel-body" style="padding-top: 20px;">
                        <canvas id="leavechart" style="height: 190px; width: 100%;"></canvas>
                        <div class="rightChart">
                            <span><i class="fa fa-square" style="color: #dcdcdc;"></i>产品采购数量</span>
                            <span><i class="fa fa-square" style="color: #09f724;"></i>产品销售数量</span>
                            <span><i class="fa fa-square" style="color: #f7f204;"></i>产品盘点数量</span>
                            <span><i class="fa fa-square" style="color: #ff8500;"></i>产品采购退货数量</span>
                            <span><i class="fa fa-square" style="color: #ff0000;"></i>产品销售退货数量</span>
                        </div>
                        @*<div style="margin-top: 20px; padding-top: 18px; height: 60px; border-top: 1px solid #e6e6e6;">
                            <div style="width: 20%; text-align: center; float: left;">
                                <span id="a_value">尚未领用</span>
                                <p style="color: #a1a1a1">闲置</p>
                            </div>
                            <div style="width: 20%; text-align: center; float: left;">
                                <span id="b_value">正在使用</span>
                                <p style="color: #a1a1a1">在用</p>
                            </div>
                            <div style="width: 20%; text-align: center; float: left;">
                                <span id="c_value">调出尚未调入</span>
                                <p style="color: #a1a1a1">在途</p>
                            </div>
                            <div style="width: 20%; text-align: center; float: left;">
                                <span id="d_value">维修未回</span>
                                <p style="color: #a1a1a1">维修</p>
                            </div>
                            <div style="width: 20%; text-align: center; float: left;">
                                <span id="d_value">报废处置</span>
                                <p style="color: #a1a1a1">报废</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    @*<div class="rows" style="overflow: hidden;">
            <div style="float: left; width: 34%; margin-right: 1%;">
                <div style="height: 265px; border: 1px solid #e6e6e6; background-color: #fff;">
                    <div class="panel panel-default">
                        <div class="panel-heading"><i class="fa fa-thumbs-o-up fa-lg" style="padding-right: 5px;"></i>最新签约</div>
                        <div class="panel-body">
                            <ul>
                                <li><a href="#">南京森鹿皮件服饰有限公司</a><span class="time">2016-07-21</span></li>
                                <li><a href="#">曲靖市绿能燃气运输有限公司</a><span class="time">2016-07-20</span></li>
                                <li><a href="#">青海航天信息有限公司</a><span class="time">2016-07-19</span></li>
                                <li><a href="#">吉林省蔬菜花卉科学研究院</a><span class="time">2016-07-17</span></li>
                                <li><a href="#">青海省广播电视信息网络股份有限公司</a><span class="time">2016-07-17</span></li>
                                <li><a href="#">国营长空精密机械制造公司</a><span class="time">2016-07-13</span></li>
                                <li><a href="#">广东友元国土信息工程有限公司</a><span class="time">2016-07-12</span></li>
                                <li><a href="#">广东友元国土信息工程有限公司</a><span class="time">2016-07-12</span></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div style="float: left; width: 34%; margin-right: 1%;">
                <div style="height: 265px; border: 1px solid #e6e6e6; background-color: #fff;">
                    <div class="panel panel-default">
                        <div class="panel-heading"><i class="fa fa-rss fa-lg" style="padding-right: 5px;"></i>通知公告</div>
                        <div class="panel-body">
                            <ul>
                                <li><a href="#">【通知】新版员工守则，即日执行</a><span class="time">2016-07-21</span></li>
                                <li><a href="#">【公告】OA办公使用指南</a><span class="time">2016-07-21</span></li>
                                <li><a href="#">【公告】劳动节集体出游指南</a><span class="time">2016-07-21</span></li>
                                <li><a href="#">【通知】2016年G20财长和央行行</a><span class="time">2016-07-21</span></li>
                                <li><a href="#">【通知】2016年G20财长和央行行</a><span class="time">2016-07-21</span></li>
                                <li><a href="#">【通知】品牌价值的最佳选择</a><span class="time">2016-07-21</span></li>
                                <li><a href="#">【公告】采购商城全新升级自营业正品</a><span class="time">2016-07-21</span></li>
                                <li><a href="#">【公告】采购商城全新升级自营业正品</a><span class="time">2016-07-21</span></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div style="float: right; width: 30%;">
                <div style="height: 265px; border: 1px solid #e6e6e6; background-color: #fff;">
                    <div class="panel panel-default">
                        <div class="panel-heading"><i class="fa fa-send fa-lg" style="padding-right: 5px;"></i>企业文化</div>
                        <div class="panel-body">
                            <ul>
                                <li><a href="#">创新企业党建思想政治工作</a><span class="time">2016-07-02</span></li>
                                <li><a href="#">现代国有企业道德体系初构</a><span class="time">2016-06-18</span></li>
                                <li><a href="#">国有企业文化问题根源及文化重塑任务分析</a><span class="time">2016-06-26</span></li>
                                <li><a href="#">国有企业文化建设必须突出员工文化</a><span class="time">2016-04-20</span></li>
                                <li><a href="#">加强企业公民建设 推进企业和谐发展</a><span class="time">2016-03-08</span></li>
                                <li><a href="#">不断提升大庆精神 实现企业持续发展</a><span class="time">2016-02-22</span></li>
                                <li><a href="#">科学发展作指导 人水和谐路更宽</a><span class="time">2016-02-15</span></li>
                                <li><a href="#">科学发展作指导 人水和谐路更宽</a><span class="time">2016-02-15</span></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>*@
    <script type="text/javascript" src="~/Content/plugins/charts/Chart.min.js"></script>
    <script>
        $(function () {
            getPreDj()
            GetSalaryChart();
            //GetLeaveChart();
        });

        /*
            获取待入库数量，待出库数量，待审核数量
        */
        function getPreDj() {
            $.ajax({
                url: "/WmsManage/Goods/GetGoodsNum",
                type: "get",
                dataType: "json",
                success: function (data) {
                    console.info(data);
                    $("#pdj").html(data[0].InNum)
                    $("#pzy").html(data[0].OutNum)
                    $("#pcz").html(data[0].MaskNum)
                }
            });
        }



        function GetSalaryChart() {
            $.ajax({
                url: "/WmsManage/Goods/GetMothNum",
                type: "get",
                dataType: "json",
                success: function (data) {

                    var cgdata = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];
                    var xsdata = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];
                    var cgthdata = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];
                    var xsthdata = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];
                    for (var i = 0; i < data.length; i++) {
                        if (data[i].Type == 0) {
                            cgdata[data[i].Month] = data[i].Num;
                        } else if (data[i].Type == 1) {
                            xsdata[data[i].Month] = data[i].Num;
                        } else if (data[i].Type==2) {
                            cgthdata[data[i].Month] = data[i].Num;
                        } else {
                            xsthdata[data[i].Month] = data[i].Num;
                        }
                    }

        


                    var lineChartData = {
                        labels: ["1月", "2月", "3月", "4月", "5月", "6月", "7月", "8月", "8月", "10月", "11月", "12月"],
                        datasets: [
                            {
                                label: "产品采购",
                                fillColor: "rgba(0,255,144,0.1)",
                                strokeColor: "rgba(0,255,144,1)",
                                pointColor: "rgba(0,255,144,1)",
                                pointStrokeColor: "#fff",
                                pointHighlightFill: "#fff",
                                pointHighlightStroke: "rgba(0,255,144,1)",
                                data: cgdata
                            },
                             {
                                 label: "产品销售",
                                 fillColor: "rgba(247,242,4,0.1)",
                                 strokeColor: "rgba(247,242,4,1)",
                                 pointColor: "rgba(247,242,4,1)",
                                 pointStrokeColor: "#fff",
                                 pointHighlightFill: "#fff",
                                 pointHighlightStroke: "rgba(247,242,4,1)",
                                 data: xsdata
                             },
                             {
                                 label: "采购退货",
                                 fillColor: "rgba(255,0,0,0.1)",
                                 strokeColor: "rgba(255,0,0,1)",
                                 pointColor: "rgba(255,0,0,1)",
                                 pointStrokeColor: "#fff",
                                 pointHighlightFill: "#fff",
                                 pointHighlightStroke: "rgba(255,0,0,1)",
                                 data: cgthdata
                             },
                            {
                                label: "销售退货",
                               fillColor: "rgba(56,56,0,0.1)",
                                strokeColor: "rgba(56,56,56,1)",
                                pointColor: "rgba(56,56,56,1)",
                                pointStrokeColor: "#fff",
                                pointHighlightFill: "#fff",
                                pointHighlightStroke: "rgba(56,56,56,1)",
                                data: xsthdata
                            }
                        ]
                    }
                    var ctx = document.getElementById("salarychart").getContext("2d");
                    window.myLine = new Chart(ctx).Line(lineChartData, {
                        responsive: false,
                        bezierCurve: false
                    });
                }
            })
        }


        //function GetLeaveChart() {
        //    $.ajax({
        //        url: "/AssetManage/AssetInformation/Asset_GetStatusReport",
        //        type: "get",
        //        dataType: "json",
        //        success: function (data) {
        //            var a_value = 0;
        //            var b_value = 0;
        //            var c_value = 0;
        //            var d_value = 0;
        //            var e_value = 0;

        //            for (var i = 0; i < data.length; i++) {
        //                switch (data[i].F_STATUS) {
        //                    case "闲置":
        //                        a_value =4;
        //                        break;
        //                    case "在用":
        //                        b_value = 4;
        //                        break;
        //                    case "在途":
        //                        c_value = 4;
        //                        break;
        //                    case "维修":
        //                        d_value = 4;
        //                        break;
        //                    case "处理":
        //                        e_value = 4;
        //                        break;
        //                }
        //            }


        //            var doughnutData = [
        //                {
        //                    value: a_value,
        //                    color: "#dcdcdc",
        //                    highlight: "#dcdcdc",
        //                    label: "闲置"
        //                },
        //                {
        //                    value: b_value,
        //                    color: "#09f724",
        //                    highlight: "#09f724",
        //                    label: "在用"
        //                },
        //                {
        //                    value: c_value,
        //                    color: "#f7f204",
        //                    highlight: "#f7f204",
        //                    label: "在途"
        //                },
        //                {
        //                    value: d_value,
        //                    color: "#ff8500",
        //                    highlight: "#ff8500",
        //                    label: "维修"
        //                },
        //                {
        //                    value: e_value,
        //                    color: "#ff0000",
        //                    highlight: "#ff0000",
        //                    label: "报废"
        //                }
        //            ];
        //            var ctx = document.getElementById("leavechart").getContext("2d");
        //            window.myDoughnut = new Chart(ctx).Doughnut(doughnutData, { responsive: false });
        //        }
        //    });
        //}

    </script>
</div>